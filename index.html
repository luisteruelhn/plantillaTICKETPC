<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>ORDEN DE VENTA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://luisteruelhn.github.io/PLANTILLA/style.css">
</head>

<body>
  <header>
    <h1>ORDEN DE VENTA</h1>
    <address>
      <p>TYT System's</p>
      <p>Santa Bárbara, Honduras</p>
      <p>Tel. 9517-4747</p>
    </address>
    <div style="float: right;">
      <img src="https://luisteruelhn.github.io/PLANTILLA/logo.png" alt="logo" style="width:100px;">
    </div>
  </header>

  <article>
    <table class="meta">
      <tr><th>ID Orden</th><td><span id="idORDENVENTAS"></span></td></tr>
      <tr><th>ID Venta</th><td><span id="idventas"></span></td></tr>
      <tr><th>Estado</th><td><span id="ESTADO"></span></td></tr>
      <tr><th>Total</th><td>L <span id="TOTAL"></span></td></tr>
    </table>

    <h3>Detalles del Producto</h3>
    <table class="inventory">
      <thead>
        <tr>
          <th>Categoría</th>
          <th>Nombre</th>
          <th>Cantidad</th>
          <th>Precio</th>
          <th>Subtotal</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td id="CATEGORIA"></td>
          <td id="NOMBRE"></td>
          <td id="CANTIDAD" style="text-align:center;"></td>
          <td id="PRECIO" style="text-align:right;"></td>
          <td id="SUBTOTAL" style="text-align:right;"></td>
        </tr>
      </tbody>
    </table>

    <table class="balance">
      <tr><th>Total</th><td>L <span id="TOTAL2"></span></td></tr>
    </table>
  </article>

  <aside>
    <h1>Notas</h1>
    <p>Gracias por su compra. ¡Vuelva pronto!</p>
  </aside>

  <script>
    const params = new URLSearchParams(window.location.search);
    const campos = [
      "idORDENVENTAS", "CATEGORIA", "NOMBRE", "CANTIDAD",
      "PRECIO", "TOTAL", "ESTADO", "idventas"
    ];

    campos.forEach(c => {
      const valor = params.get(c);
      if (valor) {
        const el = document.getElementById(c);
        if (el) el.textContent = decodeURIComponent(valor);
      }
    });

    // Calcular subtotal si no viene directamente
    const cant = parseFloat(params.get("CANTIDAD") || 0);
    const precio = parseFloat(params.get("PRECIO") || 0);
    const subtotal = cant * precio;
    document.getElementById("SUBTOTAL").textContent = subtotal.toFixed(2);
    document.getElementById("TOTAL2").textContent = params.get("TOTAL") || subtotal.toFixed(2);
  </script>
</body>
</html>

